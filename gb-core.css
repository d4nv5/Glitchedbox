/* ╔═══════════════════════════════════════════════════════════════════════════╗
   ║  GLITCHED BOX — CORE STYLESHEET                                           ║
   ║  Tokens · Layout · Header · Breadcrumbs · Footer · Newsletter · Utilities ║
   ╚═══════════════════════════════════════════════════════════════════════════╝ */

/* ============================================
   §1  DESIGN TOKENS
   ============================================ */
:root {
  /* Typography */
  --font-sans: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  /* Spacing scale */
  --size-1: 0.25rem;   /* 4px */
  --size-2: 0.375rem;  /* 6px */
  --size-3: 0.5rem;    /* 8px */
  --size-4: 0.75rem;   /* 12px */
  --size-5: 1rem;      /* 16px */
  --size-6: 1.5rem;    /* 24px */
  --size-7: 2rem;      /* 32px */
  --size-8: 2.5rem;    /* 40px */
  --size-9: 3rem;      /* 48px */
  --size-10: 3.5rem;   /* 56px */
  --size-11: 4rem;     /* 64px */

  /* Layout */
  --container-max: 80rem;  /* 1280px */

  /* Radius */
  --radius-1: 0.5rem;   /* 8px */
  --radius-2: 0.75rem;  /* 12px */
  --radius-3: 0.875rem; /* 14px */
  --radius-4: 1rem;     /* 16px */
  --radius-full: 999px;

  /* Shadows */
  --shadow-1: 0 8px 24px rgba(0, 0, 0, 0.35);
  --shadow-2: 0 14px 36px rgba(0, 0, 0, 0.45);

  /* Type scale */
  --h-xl: 2.75rem;  /* 44px */
  --h-lg: 2rem;     /* 32px */
  --h-md: 1.375rem; /* 22px */
  --h-sm: 1.125rem; /* 18px */
  --h-xs: 1rem;     /* 16px */

  --t-rg: 0.875rem; /* 14px */
  --t-sm: 0.8125rem;/* 13px */
  --t-tn: 0.75rem;  /* 12px */

  /* Line heights */
  --lh-100: 1;
  --lh-110: 1.1;
  --lh-120: 1.2;
  --lh-125: 1.25;
  --lh-130: 1.3;
  --lh-140: 1.4;
  --lh-150: 1.5;
  --lh-160: 1.6;

  /* Transitions */
  --ease-out: cubic-bezier(0.2, 0.8, 0.2, 1);
  --dur-1: 120ms;
  --dur-2: 180ms;
  --dur-3: 250ms;

  /* State colors (feedback) */
  --success: #22c55e;
  --warning: #f59e0b;
  --danger: #ef4444;

  /* Aliases */
  --state-success: var(--success);
  --state-warning: var(--warning);
  --state-danger: var(--danger);

  /* Brand accents (NO estados) */
  --accent-green: #39FF14;   /* verde neón */
  --accent-purple: #8b5cf6;  /* morado acento */  
  --accent-orange: #FF6B2B;

  /* Glow border gradient (card hover) */
  --glow-from: #FF30FF;      /* magenta */
  --glow-to: #00b7ff;        /* cyan */
  --glow-angle: 163deg;
  --glow-width: 2px;

  /* Stars */
  --star-yellow: #fbbf24;
  --star-gray: #9ca3af;

  /* Favourite */
  --Favourite: #ef4444;

  /* Component heights (computed at runtime by JS) */
  --header-h: 76px;
  --breadcrumbs-h: 36px;

  /* Controls (inputs/buttons) */
  --control-h: 42px;
  --control-py: var(--size-4);
  --control-px: var(--size-5);
  --control-pl-icon: 44px;
  --control-icon-left: var(--size-5);

    /* Light-only (por ahora solo este) */
    --breadcrumbs-bar-bg-light: #f5f5f5;
    --copyright-bg-light: #23262d; 
    --footer-bg-light: #e8e8e8;
}

/* ============================================
   §2  THEME: DARK (default)
   ============================================ */
:root[data-theme="dark"] {
  --color-bg: #0b0b0b;
  --color-surface: #121212;
  --color-surface-2: #181818;
  --color-surface-3: #1a1a1d;

  --color-text: #ffffff;
  --color-text-secondary: #a0a0a0;
  --color-text-muted: rgba(255, 255, 255, 0.72);

  --color-border: rgba(255, 255, 255, 0.10);
  --color-border-strong: rgba(255, 255, 255, 0.18);

  --color-accent: #39ff14;
  --color-accent-contrast: #0b0b0b;
  --color-accent-subtle: rgba(57, 255, 20, 0.18);
  --color-accent-border: rgba(57, 255, 20, 0.35);
  --accent-purple-soft: rgba(139, 92, 246, 0.14);
  --accent-purple-border: rgba(139, 92, 246, 0.55);
  --accent-purple-glow: rgba(139, 92, 246, 0.22);

  --focus-ring: 0 0 0 2px color-mix(in srgb, var(--color-accent) 75%, transparent);
  --focus-glow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);

/* ============================================
   EXTRA TOKENS — overlays / glass / purple UI (DARK)
   ============================================ */

/* Purple UI (hover/focus accent UI) */
--purple: var(--color-input-focus);        /* base morado (ya lo tienes como input-focus) */
--purple-soft: rgba(139, 92, 246, 0.14);   /* fondo hover */
--purple-border: rgba(139, 92, 246, 0.55); /* contorno hover */
--purple-glow: rgba(139, 92, 246, 0.22);   /* halo 1px */
--purple-glow-2: rgba(139, 92, 246, 0.18); /* halo difuso */

/* Glass / tints neutrales (dark) */
--glass-1: rgba(255, 255, 255, 0.03);      /* chips / icon bg */
--glass-2: rgba(255, 255, 255, 0.06);      /* hover surface */
--glass-3: rgba(255, 255, 255, 0.10);      /* bordes más fuertes */
--highlight-1: rgba(255, 255, 255, 0.14);  /* highlight superior */
--inset-1: rgba(0, 0, 0, 0.25);            /* sombras internas */

  /* Inputs */
  --color-input-bg: #1a1a1a;
  --color-input-border: rgba(255, 255, 255, 0.18);
  --color-input-placeholder: var(--color-text-secondary);
  --color-input-focus: #8b5cf6;

  /* Theme switch */
  --switch-bg: rgba(255, 255, 255, 0.10);
  --switch-border: rgba(255, 255, 255, 0.18);
  --switch-thumb: #ffffff;
  --switch-icon: rgba(255, 255, 255, 0.65);
  --switch-icon-active: var(--color-accent);

  /* Footer */
  --footer-bg: #1a1a1d;
  --footer-bottom-bg: #0f0f12;
  --footer-separator: #000000;
}


/* ============================================
   §3  THEME: LIGHT
   ============================================ */
:root[data-theme="light"] {
  --color-bg: #ffffff;
  --color-surface: #f5f5f5;
  --color-surface-2: #eeeeee;
  --color-surface-3: #e8e8e8;

  --color-text: #111111;
  --color-text-secondary: #6b6b6b;
  --color-text-muted: rgba(17, 17, 17, 0.68);

  --color-border: rgba(17, 17, 17, 0.12);
  --color-border-strong: rgba(17, 17, 17, 0.18);

  /* Accent — naranja mandarina (separado del rojo de --danger) */
  --color-accent: #FF6B2B;
  --color-accent-contrast: #ffffff;
  --color-accent-subtle: rgba(255, 107, 43, 0.12);
  --color-accent-border: rgba(255, 107, 43, 0.40);

  --focus-ring: 0 0 0 2px color-mix(in srgb, var(--color-accent) 65%, transparent);
  --focus-glow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 22%, transparent),
    0 0 14px color-mix(in srgb, var(--color-accent) 10%, transparent);

  /* Purple UI (hover/focus — mismo púrpura en ambos temas) */
  --accent-purple-soft: rgba(139, 92, 246, 0.10);
  --accent-purple-border: rgba(139, 92, 246, 0.40);
  --accent-purple-glow: rgba(139, 92, 246, 0.18);

  /* Glass / tints neutrales (light) */
  --glass-1: rgba(0, 0, 0, 0.03);
  --glass-2: rgba(0, 0, 0, 0.05);
  --glass-3: rgba(0, 0, 0, 0.08);
  --highlight-1: rgba(255, 255, 255, 0.80);
  --inset-1: rgba(0, 0, 0, 0.06);

  /* Inputs */
  --color-input-bg: #f3f4f6;
  --color-input-border: rgba(0, 0, 0, 0.12);
  --color-input-placeholder: #6b7280;
  --color-input-focus: #7c3aed;

  /* Theme switch */
  --switch-bg: rgba(17, 17, 17, 0.06);
  --switch-border: rgba(17, 17, 17, 0.18);
  --switch-thumb: #ffffff;
  --switch-icon: rgba(17, 17, 17, 0.55);
  --switch-icon-active: var(--color-accent);

  /* Footer */
  --footer-bg: #f1f1f6;
  --footer-bottom-bg: #e4e4eb;
  --footer-separator: rgba(0, 0, 0, 0.12);

  /* Shadows (lighter for light mode) */
  --shadow-1: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-2: 0 8px 24px rgba(0, 0, 0, 0.12);
}


/* ============================================
   §4  RESET & BASE
   ============================================ */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--t-rg);
  line-height: var(--lh-160);
  background: var(--color-bg);
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img {
  max-width: 100%;
  display: block;
}

button,
input {
  font: inherit;
  color: inherit;
}

a {
  color: inherit;
  text-decoration: none;
}


/* ============================================
   §5  LAYOUT HELPERS
   ============================================ */
.layout__container {
  width: min(var(--container-max), 100% - (2 * var(--size-6)));
  margin-inline: auto;
}

@media (min-width: 46.5rem) {
  .layout__container {
    width: min(var(--container-max), 100% - (2 * var(--size-9)));
  }
}

@media (min-width: 64rem) {
  .layout__container {
    width: min(var(--container-max), 100% - (2 * 5rem));
  }
}

.l-stack {
  display: grid;
  gap: var(--size-5);
}

.l-section {
  padding-block: var(--size-9);
}

.grid {
  display: grid;
  gap: var(--size-6);
}

.grid--products {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

@media (max-width: 45rem) {
  .grid--products {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   §6  TYPOGRAPHY
   ============================================ */
.type__h1 {
  font-size: var(--h-xl);
  font-weight: 900;
  line-height: var(--lh-110);
  margin: 0;
}

.type__h2 {
  font-size: var(--h-md);
  font-weight: 800;
  line-height: var(--lh-125);
  margin: 0;
}

.type__h3 {
  font-size: var(--h-sm);
  font-weight: 800;
  line-height: var(--lh-125);
  margin: 0;
}

.type__body {
  font-size: var(--t-rg);
  line-height: var(--lh-160);
  margin: 0;
}

.type__muted {
  color: var(--color-text-muted);
}

/* ============================================
   §7  ICON SYSTEM
   ============================================ */
.icon-wrap {
  --icon-box: 24px;
  --icon-size: 20px;
  width: var(--icon-box);
  height: var(--icon-box);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 var(--icon-box);
}

.icon-wrap svg {
  width: var(--icon-size);
  height: var(--icon-size);
  display: block;
}

.icon-wrap--16 { --icon-box: 16px; --icon-size: 16px; }
.icon-wrap--20 { --icon-box: 20px; --icon-size: 20px; }
.icon-wrap--24 { --icon-box: 24px; --icon-size: 20px; }
.icon-wrap--32 { --icon-box: 32px; --icon-size: 32px; }
.icon-wrap--40 { --icon-box: 40px; --icon-size: 40px; }

/* ============================================
   §8  BUTTONS
   ============================================ */
.icon-button {
  display: inline-flex;
  align-items: center;
  gap: var(--size-1);
  padding: var(--size-3) var(--size-5);
  color: var(--color-text-muted);
  border: 1px solid transparent;
  border-radius: var(--radius-2);
  background: transparent;
  cursor: pointer;
  transition:
    transform var(--dur-1) var(--ease-out),
    color var(--dur-1) var(--ease-out),
    background-color var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out);
  position: relative;
  white-space: nowrap;
  line-height: 1;
}

.header .icon-button{
  border: 1px solid transparent;
  background: transparent;
  transition:
    background-color var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out),
    color var(--dur-1) var(--ease-out);
}

.header .icon-button:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

.header .icon-button:focus-visible .icon-wrap,
.header .icon-button:focus-visible svg {
  color: var(--color-input-focus);
}

.header .icon-button:active .icon-wrap,
.header .icon-button:active svg {
  color: var(--color-input-focus);
}

.icon-button span {
  line-height: 1;
}

.icon-button:hover {
  color: var(--color-text);
  background: var(--accent-purple-soft);
  border-color: var(--accent-purple-border);
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
  transform: translateY(-1px);
}

.icon-button:active{
  transform: translateY(1px);
}

.icon-button:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
              0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

/* Hide text on mobile, show on desktop */
.icon-button > span:not(.icon-wrap) {
  display: none;
}

@media (min-width: 64rem) {
  .icon-button > span:not(.icon-wrap) {
    display: inline;
  }
}

/* State helpers */
.state-success { color: var(--success); }
.state-warning { color: var(--warning); }
.state-danger { color: var(--danger); }


/* ============================================
   §9  CARDS
   ============================================ */
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-2);
  box-shadow: var(--shadow-1);
  padding: var(--size-6);
}

.card--featured {
  background: var(--color-surface-2);
  border-color: var(--color-accent-border);
  background: linear-gradient(180deg, var(--color-accent-subtle), rgba(255, 255, 255, 0.02));
}

/* ============================================
   §9.1  RATING / STARS
   ============================================ */
.rating{
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.rating__star{
  width: var(--star-size, 16px);
  height: var(--star-size, 16px);
  display: inline-flex;
}

.rating__star svg{
  width: 100%;
  height: 100%;
  display: block;
}

/* Sizes */
.rating--sm{ --star-size: 16px; }
.rating--lg{ --star-size: 24px; }

/* Yellow outline (default Glitched Box style) */
.rating--outline-yellow .rating__star svg{
  fill: transparent;
  stroke: var(--star-yellow);
}

/* ============================================
   §10  HEADER
   ============================================ */
.header {
  position: sticky;
  top: 0;
  z-index: 50;
  background: color-mix(in srgb, var(--color-bg) 88%, transparent);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--color-border);
  padding-block: var(--size-4);
}

.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--size-5);
}

.logo {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.header-logo-img {
  height: 40px;
  width: auto;
  display: block;
}

/* Header search */
.header-search {
  flex: 1;
  min-width: 0;
  max-width: 600px;
}

.search-container {
  position: relative;
  width: 100%;
  background: transparent;
  border: 0;
  padding: 0;
  border-radius: 0;
  box-shadow: none;
}

.search-icon {
  position: absolute;
  left: var(--size-5);
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-text-muted);
  pointer-events: none;
  transition: color var(--dur-1) var(--ease-out);
}

.search-input {
  width: 100%;
  height: 42px;
  padding: var(--size-4) var(--size-5) var(--size-4) calc(var(--size-5) + 28px);
  border-radius: var(--radius-full);
  background: var(--color-input-bg);
  border: 1px solid var(--color-input-border);
  color: var(--color-text);
  font-size: var(--t-rg);
  line-height: 1;
  transition:
    color var(--dur-1) var(--ease-out),
    background var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

.search-input::placeholder {
  color: var(--color-input-placeholder);
}

.search-input:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
              0 0 18px color-mix(in srgb, var(--color-accent) 12%, transparent);
}

.search-input:focus::placeholder {
  color: var(--color-input-focus);
}

.search-container:focus-within .search-icon {
  color: var(--color-input-focus);
}

.search-container:hover .search-input{
  border-color: var(--accent-purple-border);
  background: color-mix(in srgb, var(--accent-purple-soft) 70%, var(--color-input-bg));
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
}

.search-container:hover .search-input::placeholder {
  color: var(--color-text);
}

.search-container:hover .search-icon {
  color: var(--color-text);
}

/* Header actions */
.header-actions {
  display: flex;
  align-items: center;
  gap: var(--size-3);
}

/* ---- Header button areas: default muted ---- */
.header-actions,
.header-actions a,
.header-actions button,
.header-actions .icon-button,
.header-actions .icon-button span {
  color: var(--color-text-secondary);
}

.primary-nav .icon-button,
.primary-nav .icon-button span {
  color: var(--color-text-secondary);
}

/* ---- HOVER: all header icon-buttons → white (full contrast) ---- */
.header-actions .icon-button:hover,
.header-actions .icon-button:hover span,
.header-actions .icon-button:hover .icon-wrap,
.header-actions .icon-button:hover svg,
.primary-nav .icon-button:hover,
.primary-nav .icon-button:hover span,
.primary-nav .icon-button:hover .icon-wrap,
.primary-nav .icon-button:hover svg {
  color: var(--color-text);
}

/* ---- FOCUS-VISIBLE (Tab): all → purple text + green ring ---- */
.header-actions .icon-button:focus-visible,
.header-actions .icon-button:focus-visible span,
.header-actions .icon-button:focus-visible .icon-wrap,
.header-actions .icon-button:focus-visible svg,
.primary-nav .icon-button:focus-visible,
.primary-nav .icon-button:focus-visible span,
.primary-nav .icon-button:focus-visible .icon-wrap,
.primary-nav .icon-button:focus-visible svg {
  color: var(--color-input-focus);
}

/* ---- ACTIVE (click): all → purple ---- */
.header-actions .icon-button:active,
.header-actions .icon-button:active span,
.header-actions .icon-button:active .icon-wrap,
.header-actions .icon-button:active svg,
.primary-nav .icon-button:active,
.primary-nav .icon-button:active span,
.primary-nav .icon-button:active .icon-wrap,
.primary-nav .icon-button:active svg {
  color: var(--color-input-focus);
}

/* SVG sizing for header-actions */
.header-actions .icon-button svg {
  width: 20px;
  height: 20px;
  display: block;
  color: inherit;
}

.header-actions .icon-button svg path[fill]:not([fill="none"]),
.primary-nav .icon-button svg path[fill]:not([fill="none"]) {
  fill: currentColor;
  stroke: none;
}

/* Cart badge */
.cart-button {
  position: relative;
}

.cart-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  background: var(--accent-purple) !important;
  color: #ffffff !important;
  font-size: var(--t-tn);
  font-weight: 800;
  padding: 2px 6px;
  border-radius: var(--radius-full);
  min-width: 18px;
  text-align: center;
  opacity: 0;
  transform: scale(0);
  transition: transform var(--dur-2) var(--ease-out), opacity var(--dur-2) var(--ease-out);
}

.cart-badge.show {
  opacity: 1;
  transform: scale(1);
}

/* Search toggle visibility */
.header-search { display: block; }
.search-toggle { display: none; }

@media (max-width: 53.75rem) { /* 860px */
  .header-search { display: none; }
  .search-toggle { display: inline-flex; }
}

/* ============================================
   §10.1  HAMBURGER MENU & MOBILE NAV
   ============================================ */

/* Hamburger Toggle Button */
.hamburger-toggle {
  display: none; /* Hidden on desktop */
  background: transparent;
  border: none;
  cursor: pointer;
  padding: var(--size-3);
  margin-right: var(--size-3);
  border-radius: var(--radius-2);
  transition: background var(--dur-1) var(--ease-out);
}

.hamburger-toggle:hover {
  background: var(--accent-purple-soft);
}

.hamburger-toggle:active {
  transform: scale(0.95);
}

.hamburger-icon {
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 20px;
  height: 16px;
}

.hamburger-icon span {
  display: block;
  width: 100%;
  height: 2px;
  background: var(--color-text);
  border-radius: 2px;
  transition: all var(--dur-2) var(--ease-out);
}

/* Mobile Menu Overlay */
.mobile-menu {
  position: fixed;
  inset: 0;
  z-index: 100;
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--dur-3) var(--ease-out);
}

.mobile-menu.is-open {
  pointer-events: auto;
  opacity: 1;
}

.mobile-menu__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  cursor: pointer;
}

.mobile-menu__panel {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: min(320px, 85vw);
  background: var(--color-surface);
  border-right: 1px solid var(--color-border);
  box-shadow: var(--shadow-2);
  display: flex;
  flex-direction: column;
  transform: translateX(-100%);
  transition: transform var(--dur-3) var(--ease-out);
}

.mobile-menu.is-open .mobile-menu__panel {
  transform: translateX(0);
}

.mobile-menu__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--size-5) var(--size-6);
  border-bottom: 1px solid var(--color-border);
  flex-shrink: 0;
}

.mobile-menu__title {
  font-size: var(--h-sm);
  font-weight: 700;
  color: var(--color-text);
}

.mobile-menu__close {
  background: transparent;
  border: none;
  cursor: pointer;
  padding: var(--size-2);
  color: var(--color-text-muted);
  border-radius: var(--radius-2);
  transition: all var(--dur-1) var(--ease-out);
}

.mobile-menu__close:hover {
  background: var(--accent-purple-soft);
  color: var(--color-text);
}

.mobile-menu__nav {
  padding: var(--size-4) 0;
  overflow-y: auto;
  flex: 1;
}

.mobile-menu__link {
  display: flex;
  align-items: center;
  gap: var(--size-4);
  padding: var(--size-5) var(--size-6);
  color: var(--color-text);
  text-decoration: none;
  font-size: var(--t-rg);
  font-weight: 500;
  transition: all var(--dur-1) var(--ease-out);
  border-left: 3px solid transparent;
}

/* Asegurar que los iconos tengan el color correcto */
.mobile-menu__link .icon-wrap,
.mobile-menu__link svg {
  color: var(--color-text);
}

.mobile-menu__link:hover {
  background: var(--accent-purple-soft);
  border-left-color: var(--color-accent);
  color: var(--color-text);
}

/* Mantener iconos blancos en hover */
.mobile-menu__link:hover .icon-wrap,
.mobile-menu__link:hover svg {
  color: var(--color-text);
}

.mobile-menu__link:active {
  background: var(--accent-purple);
}

/* Toggle de Tema - Diseño especial con fondo blanco/negro */
.mobile-menu__link--theme {
  background-color: #ffffff; /* Fondo blanco por defecto (tema oscuro) */
  color: #000000; /* Texto negro */
  border-left-color: transparent;
  margin-top: var(--size-3); /* 8px de separación del idioma */
}

.mobile-menu__link--theme:hover {
  background-color: #f5f5f5;
  border-left-color: transparent;
  color: #000000;
}

.mobile-menu__link--theme .icon-wrap {
  color: #000000;
}

/* Tema claro - invertir colores */
[data-theme="light"] .mobile-menu__link--theme {
  background-color: #1a1a1a; /* Fondo oscuro */
  color: #ffffff; /* Texto blanco */
}

[data-theme="light"] .mobile-menu__link--theme:hover {
  background-color: #2a2a2a;
  color: #ffffff;
}

[data-theme="light"] .mobile-menu__link--theme .icon-wrap {
  color: #ffffff;
}

/* Primary Navigation */
.primary-nav {
  display: flex;
  align-items: center;
  gap: var(--size-2);
  margin-left: var(--size-6);
}

/* Responsive: Show hamburger, hide primary nav on mobile */
@media (max-width: 64rem) {
  .hamburger-toggle {
    display: flex;
  }
  
  .primary-nav {
    display: none;
  }
  
  /* Ocultar idioma y toggle de tema en mobile (están en hamburguesa) */
  .language-selector,
  .theme-switch {
    display: none;
  }
}

/* ============================================
   §11  BREADCRUMBS
   ============================================ */
.breadcrumbs-bar {
  position: sticky;
  height: auto;
  min-height: var(--breadcrumbs-h);
  top: var(--header-h);
  z-index: 40;
  isolation: isolate;
  background: color-mix(in srgb, var(--color-bg) 88%, transparent);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--color-border);
}

.breadcrumbs-bar::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), transparent);
}

:root[data-theme="light"] .breadcrumbs-bar::before {
  background: linear-gradient(180deg, rgba(17, 17, 17, 0.03), transparent);
}

:root[data-theme="light"] .breadcrumbs-bar{
  background: var(--breadcrumbs-bar-bg-light);
  backdrop-filter: none; /* opcional: para que no “ensucie” el gris claro */
}

.breadcrumbs-bar__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--size-5);
  padding-block: 4px;
  padding-inline: 0;
  min-height: var(--breadcrumbs-h);
}

@media (min-width: 64rem) {
  .breadcrumbs-bar__inner {
    padding-block: 8px;
  }
}

.breadcrumbs {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 0;
  font-size: var(--t-rg);
  color: var(--color-text-muted);
  min-width: 0;
  overflow: auto;
  scrollbar-width: none;
}

/* Separadores: siempre tenue */
.breadcrumbs .separator,
.breadcrumbs .breadcrumb-sep,
.breadcrumbs span[aria-hidden="true"] {
  color: var(--color-text-muted);
  opacity: 0.5;
  white-space: nowrap;
}

.breadcrumbs::-webkit-scrollbar {
  display: none;
}

.breadcrumb-link {
  color: var(--color-text-secondary);
  text-decoration: none;
  transition: color var(--dur-1) var(--ease-out), border-color var(--dur-1) var(--ease-out), box-shadow var(--dur-1) var(--ease-out);
  border-radius: var(--radius-1);
  outline: none;
  border: 1px solid transparent;
  padding: 2px 6px;
}

.breadcrumb-link:hover {
  color: var(--color-input-focus);
  text-decoration: none;
}

.breadcrumb-link:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
  color: var(--color-input-focus);
}

.breadcrumb-current {
  color: var(--color-input-focus);
  font-weight: 600;
  white-space: nowrap;
}


/* ============================================
   §11.1  LANGUAGE SELECTOR
   ============================================ */
.language-selector {
  position: relative;
  display: inline-flex;
}

.language-toggle {
  display: flex;
  align-items: center;
  gap: var(--size-2);
  padding: var(--size-2) var(--size-3);
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-2);
  color: var(--color-text-muted);
  font-size: var(--t-sm);
  font-weight: 600;
  cursor: pointer;
  transition: all var(--dur-1) var(--ease-out);
}

.language-toggle:hover {
  background: var(--accent-purple-soft);
  border-color: var(--accent-purple-border);
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
  color: var(--color-text);
}

.language-toggle:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
  color: var(--color-input-focus);
}

.language-toggle svg {
  width: 16px;
  height: 16px;
}

.language-toggle-chevron {
  width: 12px;
  height: 12px;
  transition: transform var(--dur-2) var(--ease-out);
}

.language-selector.is-open .language-toggle-chevron {
  transform: rotate(180deg);
}

.language-dropdown {
  position: absolute;
  top: calc(100% + 4px);
  right: 0;
  min-width: 140px;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-2);
  box-shadow: var(--shadow-1);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-4px);
  transition: all var(--dur-2) var(--ease-out);
  z-index: 60;
}

/* Abrir con hover */
.language-selector:hover .language-dropdown,
.language-selector.is-open .language-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.language-option {
  display: flex;
  align-items: center;
  gap: var(--size-3);
  padding: var(--size-3) var(--size-4);
  color: var(--color-text);
  text-decoration: none;
  font-size: var(--t-sm);
  font-weight: 500;
  cursor: pointer;
  transition: background var(--dur-1) var(--ease-out), color var(--dur-1) var(--ease-out);
  border: none;
  background: transparent;
  width: 100%;
  text-align: left;
}

.language-option:hover {
  background: var(--accent-purple-soft);
  color: var(--color-input-focus);
}

.language-option.active {
  background: var(--accent-purple-soft);
  color: var(--color-input-focus);
  font-weight: 700;
}

.language-option:first-child {
  border-radius: var(--radius-2) var(--radius-2) 0 0;
}

.language-option:last-child {
  border-radius: 0 0 var(--radius-2) var(--radius-2);
}


/* ============================================
   §12  THEME SWITCH (Sun ↔ Moon)
   ============================================ */
.theme-switch {
  --toggle-size: 10px;
  --container-width: 5.625em;
  --container-height: 2.8em;
  --container-radius: 6.25em;
  --container-light-bg: #3D7EAE;
  --container-night-bg: #1D1F2C;
  --circle-container-diameter: 3.6em;
  --sun-moon-diameter: 2.3em;
  --sun-bg: #ECCA2F;
  --moon-bg: #C4C9D1;
  --spot-color: #959DB1;
  --circle-container-offset: calc((var(--circle-container-diameter) - var(--container-height)) / 2 * -1);
  --stars-color: #fff;
  --clouds-color: #F3FDFF;
  --back-clouds-color: #AACADF;
  --transition: .5s cubic-bezier(0, -0.02, 0.4, 1.25);
  --circle-transition: .3s cubic-bezier(0, -0.02, 0.35, 1.17);

  display: inline-flex;
  flex: 0 0 auto;
  align-items: center;
  line-height: 0;
  padding: 0;
  border: 0;
  background: transparent;
  cursor: pointer;
}

.theme-switch:focus-visible {
  outline: none;
}

.theme-switch,
.theme-switch *,
.theme-switch *::before,
.theme-switch *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-size: var(--toggle-size);
}

.theme-switch__checkbox {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.theme-switch__container {
  width: var(--container-width);
  height: var(--container-height);
  background-color: var(--container-light-bg);
  border-radius: var(--container-radius);
  overflow: hidden;
  cursor: pointer;
  box-shadow: 0em -0.062em 0.062em rgba(0, 0, 0, 0.25), 0em 0.062em 0.125em rgba(255, 255, 255, 0.14);
  transition: var(--transition);
  position: relative;
  border: 1px solid var(--color-border);
}

.theme-switch__container::before {
  content: "";
  position: absolute;
  z-index: 1;
  inset: 0;
  box-shadow: 0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset, 0em 0.05em 0.187em rgba(0, 0, 0, 0.25) inset;
  border-radius: var(--container-radius);
  pointer-events: none;
}

/* Theme switch — hover outline morado (solo hover) */
.theme-switch:hover .theme-switch__container{
  border-color: var(--accent-purple-border);
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
}

.theme-switch__circle-container {
  width: var(--circle-container-diameter);
  height: var(--circle-container-diameter);
  background-color: rgba(255, 255, 255, 0.08);
  position: absolute;
  left: var(--circle-container-offset);
  top: var(--circle-container-offset);
  border-radius: var(--container-radius);
  box-shadow: inset 0 0 0 3.375em rgba(255, 255, 255, 0.08), 0 0 0 0.625em rgba(255, 255, 255, 0.06);
  display: flex;
  transition: var(--circle-transition);
  pointer-events: none;
}

.theme-switch__sun-moon-container {
  pointer-events: auto;
  position: relative;
  z-index: 2;
  width: var(--sun-moon-diameter);
  height: var(--sun-moon-diameter);
  margin: auto;
  border-radius: var(--container-radius);
  background-color: var(--sun-bg);
  box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #a1872a inset;
  filter: drop-shadow(0.062em 0.125em 0.125em rgba(0, 0, 0, 0.25));
  overflow: hidden;
  transition: var(--transition);
}

.theme-switch__moon {
  transform: translateX(100%);
  width: 100%;
  height: 100%;
  background-color: var(--moon-bg);
  border-radius: inherit;
  box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #969696 inset;
  transition: var(--transition);
  position: relative;
}

.theme-switch__spot {
  position: absolute;
  top: 0.75em;
  left: 0.312em;
  width: 0.75em;
  height: 0.75em;
  border-radius: var(--container-radius);
  background-color: var(--spot-color);
  box-shadow: 0em 0.0312em 0.062em rgba(0, 0, 0, 0.25) inset;
}

.theme-switch__spot:nth-of-type(2) {
  width: 0.375em;
  height: 0.375em;
  top: 0.937em;
  left: 1.375em;
}

.theme-switch__spot:nth-last-of-type(3) {
  width: 0.25em;
  height: 0.25em;
  top: 0.312em;
  left: 0.812em;
}

.theme-switch__clouds {
  width: 1.25em;
  height: 1.25em;
  background-color: var(--clouds-color);
  border-radius: var(--container-radius);
  position: absolute;
  bottom: -0.625em;
  left: 0.312em;
  box-shadow:
    0.937em 0.312em var(--clouds-color),
    -0.312em -0.312em var(--back-clouds-color),
    1.437em 0.375em var(--clouds-color),
    0.5em -0.125em var(--back-clouds-color),
    2.187em 0 var(--clouds-color),
    1.25em -0.062em var(--back-clouds-color),
    2.937em 0.312em var(--clouds-color),
    2em -0.312em var(--back-clouds-color),
    3.625em -0.062em var(--clouds-color),
    2.625em 0em var(--back-clouds-color),
    4.5em -0.312em var(--clouds-color),
    3.375em -0.437em var(--back-clouds-color),
    4.625em -1.75em 0 0.437em var(--clouds-color),
    4em -0.625em var(--back-clouds-color),
    4.125em -2.125em 0 0.437em var(--back-clouds-color);
  transition: var(--transition);
}

.theme-switch__stars-container {
  position: absolute;
  color: var(--stars-color);
  top: -100%;
  left: 0.312em;
  width: 2.75em;
  height: auto;
  transition: var(--transition);
  pointer-events: none;
}

/* Theme switch states */
.theme-switch__checkbox:checked + .theme-switch__container {
  background-color: var(--container-night-bg);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container {
  left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter));
}

.theme-switch__circle-container:hover {
  left: calc(var(--circle-container-offset) + 0.187em);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container:hover {
  left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter) - 0.187em);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__moon {
  transform: translate(0);
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__clouds {
  bottom: -4.062em;
}

.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__stars-container {
  top: 50%;
  transform: translateY(-50%);
}

/* ============================================
   §13  SEARCH OVERLAY (Mobile)
   ============================================ */
.search-overlay {
  position: fixed;
  inset: 0;
  z-index: 100;
  display: none;
}

.search-overlay.is-open {
  display: block;
}

.search-overlay__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
}

.search-overlay__panel {
  position: absolute;
  left: 50%;
  top: 2rem;
  transform: translateX(-50%);
  width: min(560px, calc(100% - (2 * var(--size-6))));
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-4);
  box-shadow: var(--shadow-2);
  padding: var(--size-6);
}

:root[data-theme="light"] .search-overlay__panel {
  background: #ffffff;
}

.search-overlay__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--size-5);
}

.search-overlay__title {
  font-size: var(--h-xs);
  line-height: var(--lh-130);
}

.search-overlay__close {
  padding: var(--size-3) var(--size-4);
}

body.is-locked {
  overflow: hidden;
}


/* ============================================
   §14  NEWSLETTER
   ============================================ */
.newsletter {
  padding: var(--size-11) 0 var(--size-7);
}

.newsletter-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--size-5);
  flex-wrap: wrap;
}

.newsletter-left {
  max-width: 520px;
}

.newsletter-title {
  margin: 0 0 var(--size-3);
  font-size: var(--h-lg);
  line-height: var(--lh-120);
  font-weight: 900;
  color: var(--color-text);
}

.newsletter-description {
  margin: 0;
  font-size: var(--t-rg);
  line-height: var(--lh-150);
  color: var(--color-text-muted);
}

.newsletter-form {
  display: flex;
  gap: var(--size-4);
  align-items: center;
}

.newsletter-input {
  width: 320px;
  max-width: 52vw;
  padding: var(--size-4) var(--size-5);
  border-radius: var(--radius-2);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--color-text);
  font-size: var(--t-rg);
  outline: none;
  transition:
    color var(--dur-1) var(--ease-out),
    background var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out);
}

.newsletter-input::placeholder {
  color: var(--color-input-placeholder);
  transition: color var(--dur-1) var(--ease-out);
}

.newsletter-input:hover {
  border-color: var(--accent-purple-border);
  background: color-mix(in srgb, var(--accent-purple-soft) 70%, rgba(255, 255, 255, 0.03));
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
}

.newsletter-input:hover::placeholder {
  color: var(--color-text);
}

.newsletter-input:focus {
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

.newsletter-input:focus::placeholder {
  color: var(--color-input-focus);
}

:root[data-theme="light"] .newsletter-input {
  background: rgba(0, 0, 0, 0.03);
}

.newsletter-button {
  padding: var(--size-4) var(--size-5);
  border-radius: var(--radius-1);
  border: 1px solid var(--color-accent-border);
  background: var(--color-accent-subtle);
  color: var(--color-text);
  font-weight: 800;
  cursor: pointer;
  transition:
    background var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out),
    transform var(--dur-1) var(--ease-out);
}

.newsletter-button:hover {
  background: color-mix(in srgb, var(--color-accent-subtle) 150%, transparent);
  transform: translateY(-1px);
}

@media (max-width: 45rem) {
  .newsletter-content {
    flex-direction: column;
    align-items: flex-start;
  }

  .newsletter-form {
    width: 100%;
    flex-direction: column;
  }

  .newsletter-input {
    width: 100%;
    max-width: none;
  }

  .newsletter-button {
    width: 100%;
  }
}

/* Newsletter input — validation states (global) */
.newsletter-input.is-error {
  border-color: color-mix(in srgb, var(--danger) 70%, transparent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--danger) 22%, transparent),
    0 0 16px color-mix(in srgb, var(--danger) 10%, transparent);
}

.newsletter-input.is-success {
  border-color: color-mix(in srgb, var(--success) 70%, transparent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--success) 22%, transparent),
    0 0 16px color-mix(in srgb, var(--success) 10%, transparent);
}

.newsletter-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.newsletter-help {
  margin: var(--size-2) 0 0;
  font-size: var(--t-sm);
  line-height: var(--lh-140);
  min-height: 1.4em;
  color: var(--color-text-muted);
}

.newsletter-input.is-error ~ .newsletter-help,
.newsletter-form:has(.newsletter-input.is-error) + .newsletter-help {
  color: var(--danger);
}

.newsletter-input.is-success ~ .newsletter-help,
.newsletter-form:has(.newsletter-input.is-success) + .newsletter-help {
  color: var(--success);
}

/* Newsletter button — focus/active/disabled (global) */
.newsletter-button:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

.newsletter-button:active {
  transform: translateY(1px);
}

.newsletter-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}


/* ============================================
   §15  FOOTER
   ============================================ */
.footer {
  margin-top: var(--size-10);
  padding: var(--size-7) 0 0;
  background: var(--footer-bg);
  border-top: 1px solid var(--color-border);
}

.footer-container {
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--size-5);
}

/* Footer separator */
.footer-separator {
  height: 2px;
  background: var(--footer-separator);
  margin: var(--size-7) 0;
}

/* Footer content grid */
.footer-content--full {
  width: 100%;
  padding: var(--size-11) var(--size-7) var(--size-6);
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
  gap: var(--size-6);
  align-items: start;
}

:root[data-theme="light"] .footer{
  background: var(--footer-bg-light);
}

@media (max-width: 61.25rem) { /* 980px */
  .footer-content--full {
    grid-template-columns: 1fr 1fr;
    padding: var(--size-9) var(--size-5) var(--size-6);
  }
}

@media (max-width: 35rem) { /* 560px */
  .footer-content--full {
    grid-template-columns: 1fr;
  }
}

.footer-section {
  min-width: 0;
}

.footer-logo-img {
  width: 200px;
  height: auto;
}

.footer-logo--light{ display:none; }

:root[data-theme="light"] .footer-logo--dark{ display:none; }
:root[data-theme="light"] .footer-logo--light{ display:block; }

.footer-description {
  margin: var(--size-4) 0 0;
  font-size: var(--t-rg);
  line-height: var(--lh-160);
  color: var(--color-text-muted);
  max-width: 520px;
}

.footer-social {
  display: flex;
  gap: 10px;
  margin-top: var(--size-4);
}

.social-link {
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  background: transparent;  
  border: 1px solid transparent;  
  color: var(--color-text-muted);
  transition: background var(--dur-1) var(--ease-out), 
              border-color var(--dur-1) var(--ease-out),
              box-shadow var(--dur-1) var(--ease-out),
              transform var(--dur-1) var(--ease-out),
              color var(--dur-1) var(--ease-out);
}

.social-link svg{
   width: 20px;
   height: 20px;
   display: block;
}

.social-link:hover {
  background: var(--accent-purple-soft);
  border-color: var(--accent-purple-border);
  box-shadow: 0 0 0 1px var(--accent-purple-glow),
              0 0 14px color-mix(in srgb, var(--accent-purple-border) 30%, transparent);
  transform: translateY(-2px);
  text-decoration: none;
  color: var(--color-text);
}

.social-link:visited {
  color: var(--color-text-muted); /* Mantener color original */
}

.social-link:visited:hover {
  background: var(--accent-purple-soft);
  border-color: var(--accent-purple-border);
  color: var(--color-text); /* Mantener hover morado incluso si visitado */
}

.social-link:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
  color: var(--color-input-focus);
}

.social-link:focus-visible svg {
  fill: currentColor;
}

:root[data-theme="light"] .social-link {
  background: rgba(0, 0, 0, 0.03);
}

.footer-heading {
  margin: 0 0 10px;
  font-size: var(--h-xs);
  font-weight: 900;
  color: var(--color-text);
}

.footer-links {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: 10px;
}

.footer-links a {
  color: var(--color-text-muted);
  text-decoration: none;
  transition: color var(--dur-1) var(--ease-out), border-color var(--dur-1) var(--ease-out), box-shadow var(--dur-1) var(--ease-out);
  border-radius: var(--radius-1);
  outline: none;
  border: 1px solid transparent;
  padding: 2px 6px;
}

.footer-links a:hover {
  color: var(--color-input-focus); /* Morado al hover */
  text-decoration: none;
}

.footer-links a:visited {
  color: var(--color-text-muted); /* Mantener color original después de visitado */
}

.footer-links a:visited:hover {
  color: var(--color-input-focus); /* Morado al hover incluso si está visitado */
}

.footer-links a:active {
  color: var(--color-input-focus);
}

.footer-links a:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
  color: var(--color-input-focus);
}

.contact-button {
  width: max-content;
  padding: var(--size-4) var(--size-5);
  border-radius: var(--radius-1);
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--color-text);
  font-weight: 800;
  cursor: pointer;
  transition:
    background var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out),
    transform var(--dur-1) var(--ease-out);
}

.contact-button:hover {
  background: var(--accent-purple-soft);
  border-color: var(--accent-purple-border);
  box-shadow: 0 0 0 1px var(--accent-purple-glow);
  transform: translateY(-1px);
}

.contact-button:active {
  transform: translateY(1px);
}

.contact-button:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

:root[data-theme="light"] .contact-button {
  background: rgba(0, 0, 0, 0.03);
}

/* Footer bottom */
.footer-bottom {
  border-top: 2px solid var(--footer-separator);
  background: var(--footer-bottom-bg);
  margin-top: var(--size-7);
  padding: 22px 0 26px;
  text-align: center;
}

.footer-bottom p {
  margin: 0;
  padding: 0 var(--size-5);
  font-size: var(--t-sm);
  color: var(--color-text-muted);
  line-height: var(--lh-160);
}

:root[data-theme="light"] .footer-bottom{
  background: var(--footer-bottom-bg);
  color: var(--color-text-muted);
}

/* ============================================
   §16  GLITCH TEXT EFFECT
   ============================================
   Usage:
   <button class="glitch-text" data-text="Ver más">Ver más</button>
   - Requires data-text attribute matching the visible text
   - Glitch plays once on hover via ::after pseudo-element
   ============================================ */
.glitch-text {
  position: relative;
  overflow: hidden;
}

.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  color: inherit;
  background: transparent;
  z-index: 1;

  text-shadow:
    -2px -2px 0 currentColor,
     2px  2px 0 currentColor;

  /* Glitch slice clip-paths */
  --slice-0: inset(50% 50% 50% 50%);
  --slice-1: inset(80% -6px 0 0);
  --slice-2: inset(50% -6px 30% 0);
  --slice-3: inset(10% -6px 85% 0);
  --slice-4: inset(40% -6px 43% 0);
  --slice-5: inset(80% -6px 5% 0);

  clip-path: inset(50% 50% 50% 50%);
}

.glitch-text:hover::after {
  animation: glitch 0.6s steps(2, end) 1;
}

@keyframes glitch {
  0%   { clip-path: var(--slice-1); transform: translate(-4px, -2px); }
  10%  { clip-path: var(--slice-3); transform: translate(3px, 2px); }
  20%  { clip-path: var(--slice-1); transform: translate(-2px, 2px); }
  30%  { clip-path: var(--slice-3); transform: translate(0, 1px); }
  40%  { clip-path: var(--slice-2); transform: translate(-1px, 0); }
  50%  { clip-path: var(--slice-3); transform: translate(1px, 0); }
  60%  { clip-path: var(--slice-4); transform: translate(1px, 2px); }
  70%  { clip-path: var(--slice-2); transform: translate(-2px, 2px); }
  80%  { clip-path: var(--slice-5); transform: translate(3px, -2px); }
  90%  { clip-path: var(--slice-1); transform: translate(-2px, 0); }
  100% { clip-path: var(--slice-0); transform: translate(0); }
}


/* ============================================
   §17  GRADIENT GLOW BORDER (Card hover)
   ============================================
   Usage:
   <article class="glow-border">…</article>
   - Adds a gradient cyan→magenta border on hover
   - Uses ::before with mask-composite trick
   - Requires: position:relative, overflow:hidden, isolation:isolate
   ============================================ */
.glow-border {
  position: relative;
  isolation: isolate;
  overflow: hidden;
}

.glow-border::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: var(--glow-width);
  border-radius: inherit;
  background: linear-gradient(var(--glow-angle), var(--glow-from) 0%, var(--glow-to) 100%);

  /* Mask: only the border shows through */
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;

  opacity: 0;
  transition: opacity var(--dur-3) var(--ease-out);
  pointer-events: none;
  z-index: 1;
}

.glow-border:hover::before {
  opacity: 1;
}


/* ============================================
   §18  BACK TO TOP
   ============================================ */
.back-to-top {
  position: fixed;
  right: 20px;
  bottom: 20px;
  width: 44px;
  height: 44px;
  border-radius: var(--radius-full);
  border: 1px solid var(--accent-purple-border);
  background: var(--accent-purple-soft);
  color: var(--color-text);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transform: translateY(6px);
  transition:
    opacity var(--dur-2) ease,
    transform var(--dur-2) ease,
    background var(--dur-1) var(--ease-out),
    border-color var(--dur-1) var(--ease-out),
    box-shadow var(--dur-1) var(--ease-out),
    color var(--dur-1) var(--ease-out);
  z-index: 60;
}

.back-to-top:hover {
  background: color-mix(in srgb, var(--accent-purple) 28%, transparent);
  border-color: var(--accent-purple);
  box-shadow:
    0 0 0 1px var(--accent-purple-glow),
    0 0 14px color-mix(in srgb, var(--accent-purple) 20%, transparent);
  color: var(--color-text);
  transform: translateY(-2px);
}

.back-to-top:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--color-accent) 18%, transparent),
    0 0 18px color-mix(in srgb, var(--color-accent) 10%, transparent);
}

.back-to-top.show {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

:root[data-theme="light"] .back-to-top {
  background: var(--color-accent-subtle);
  border-color: var(--color-accent-border);
  color: var(--color-accent);
}

/* ============================================
   OCULTAR FAVORITOS E INICIAR SESIÓN EN MOBILE
   Ya están en el menú hamburguesa
   ============================================ */
@media (max-width: 768px) {
    /* Ocultar botones que están en menú hamburguesa */
    .header-actions .icon-button[aria-label="Iniciar sesión"],
    .header-actions .icon-button[aria-label="Mi cuenta"],
    .header-actions .icon-button[aria-label="Favoritos"] {
        display: none !important;
    }
}

